/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2016 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(global,factory){if("function"==typeof define&&define.amd)define("/Plugin/panel",["exports","jquery","Plugin"],factory);else if("undefined"!=typeof exports)factory(exports,require("jquery"),require("Plugin"));else{var mod={exports:{}};factory(mod.exports,global.jQuery,global.Plugin),global.PluginPanel=mod.exports}}(this,function(exports,_jquery,_Plugin2){"use strict";function getPanelAPI($el){if(!($el.length<=0)){var api=$el.data("panelAPI");return api?api:(api=new Panel($el,_jquery2.default.extend(!0,{},Panel.getDefaults(),$el.data())),api.render(),api)}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery2=babelHelpers.interopRequireDefault(_jquery),_Plugin3=babelHelpers.interopRequireDefault(_Plugin2),NAME="panel",Panel=function(_Plugin){function Panel(){return babelHelpers.classCallCheck(this,Panel),babelHelpers.possibleConstructorReturn(this,(Panel.__proto__||Object.getPrototypeOf(Panel)).apply(this,arguments))}return babelHelpers.inherits(Panel,_Plugin),babelHelpers.createClass(Panel,[{key:"getName",value:function(){return NAME}},{key:"render",value:function(context){var $el=this.$el;this.isFullscreen=!1,this.isClose=!1,this.isCollapse=!1,this.isLoading=!1,this.$panelBody=$el.find(".panel-body"),this.$fullscreen=$el.find('[data-toggle="panel-fullscreen"]'),this.$collapse=$el.find('[data-toggle="panel-collapse"]'),this.$loading=null,$el.hasClass("is-collapse")&&(this.isCollapse=!0),"string"==typeof this.options.loadCallback&&(this.options.loadCallback=window[this.options.loadCallback]),$el.data("panelAPI",this)}},{key:"load",value:function(callback){var $el=this.$el,type=$el.data("loader-type");type||(type="default"),callback=callback||this.options.loadCallback,this.$loading=(0,_jquery2.default)('<div class="panel-loading">\n                          <div class="loader loader-'+type+'"></div>\n                        </div>').appendTo($el),$el.addClass("is-loading"),$el.trigger("loading.uikit.panel"),this.isLoading=!0,"function"==typeof callback&&callback.call(this)}},{key:"done",value:function(){this.isLoading===!0&&(this.$loading.remove(),this.$el.removeClass("is-loading"),this.$el.trigger("loading.done.uikit.panel"))}},{key:"toggleContent",value:function(){this.isCollapse?this.showContent():this.hideContent()}},{key:"showContent",value:function(){this.isCollapse!==!1&&(this.$el.removeClass("is-collapse"),this.$collapse.hasClass("wb-plus")&&this.$collapse.removeClass("wb-plus").addClass("wb-minus"),this.$el.trigger("shown.uikit.panel"),this.isCollapse=!1)}},{key:"hideContent",value:function(){this.isCollapse!==!0&&(this.$el.addClass("is-collapse"),this.$collapse.hasClass("wb-minus")&&this.$collapse.removeClass("wb-minus").addClass("wb-plus"),this.$el.trigger("hidden.uikit.panel"),this.isCollapse=!0)}},{key:"toggleFullscreen",value:function(){this.isFullscreen?this.leaveFullscreen():this.enterFullscreen()}},{key:"enterFullscreen",value:function(){this.isFullscreen!==!0&&(this.$el.addClass("is-fullscreen"),this.$fullscreen.hasClass("wb-expand")&&this.$fullscreen.removeClass("wb-expand").addClass("wb-contract"),this.$el.trigger("enter.fullscreen.uikit.panel"),this.isFullscreen=!0)}},{key:"leaveFullscreen",value:function(){this.isFullscreen!==!1&&(this.$el.removeClass("is-fullscreen"),this.$fullscreen.hasClass("wb-contract")&&this.$fullscreen.removeClass("wb-contract").addClass("wb-expand"),this.$el.trigger("leave.fullscreen.uikit.panel"),this.isFullscreen=!1)}},{key:"toggle",value:function(){this.isClose?this.open():this.close()}},{key:"open",value:function(){this.isClose!==!1&&(this.$el.removeClass("is-close"),this.$el.trigger("open.uikit.panel"),this.isClose=!1)}},{key:"close",value:function(){this.isClose!==!0&&(this.$el.addClass("is-close"),this.$el.trigger("close.uikit.panel"),this.isClose=!0)}}],[{key:"getDefaults",value:function(){return{}}},{key:"api",value:function(){return function(){(0,_jquery2.default)(document).on("click.site.panel",'[data-toggle="panel-fullscreen"]',function(e){e.preventDefault();var api=getPanelAPI((0,_jquery2.default)(this).closest(".panel"));api.toggleFullscreen()}),(0,_jquery2.default)(document).on("click.site.panel",'[data-toggle="panel-collapse"]',function(e){e.preventDefault();var api=getPanelAPI((0,_jquery2.default)(this).closest(".panel"));api.toggleContent()}),(0,_jquery2.default)(document).on("click.site.panel",'[data-toggle="panel-close"]',function(e){e.preventDefault();var api=getPanelAPI((0,_jquery2.default)(this).closest(".panel"));api.close()}),(0,_jquery2.default)(document).on("click.site.panel",'[data-toggle="panel-refresh"]',function(e){e.preventDefault();var api=getPanelAPI((0,_jquery2.default)(this).closest(".panel"));api.load()})}}}]),Panel}(_Plugin3.default);_Plugin3.default.register(NAME,Panel),exports.default=Panel});