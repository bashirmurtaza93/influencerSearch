/**
* jQuery asPaginator v0.3.2
* https://github.com/amazingSurge/jquery-asPaginator
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{var i={exports:{}};e(t.jQuery),t.jqueryAsPaginatorEs=i.exports}}(this,function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){var i=this,n=Date.now||function(){return(new Date).getTime()},s=void 0,a=void 0,o=void 0,r=void 0,l=0,u=function(){l=n(),s=null,r=t.apply(a,o),s||(a=o=null)};return function(){for(var c=arguments.length,f=Array(c),h=0;h<c;h++)f[h]=arguments[h];var d=n(),p=e-(d-l);return a=i,o=f,p<=0||p>e?(s&&(clearTimeout(s),s=null),l=d,r=t.apply(a,o),s||(a=o=null)):s||(s=setTimeout(u,p)),r}}var s=e(t),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r={namespace:"asPaginator",currentPage:1,itemsPerPage:10,visibleNum:5,resizeThrottle:250,disabledClass:"asPaginator_disable",activeClass:"asPaginator_active",tpl:function(){return"<ul>{{first}}{{prev}}{{lists}}{{next}}{{last}}</ul>"},skin:null,components:{first:!0,prev:!0,next:!0,last:!0,lists:!0},onInit:null,onReady:null,onChange:null},l="asPaginator",u={},c=function(){function t(e,n,a){i(this,t),this.element=e,this.$element=(0,s.default)(e).empty(),this.options=s.default.extend({},r,a),this.namespace=this.options.namespace,this.currentPage=this.options.currentPage||1,this.itemsPerPage=this.options.itemsPerPage,this.totalItems=n,this.totalPages=this.getTotalPages(),this.isOutOfBounds()&&(this.currentPage=this.totalPages),this.initialized=!1,this.components=u,this.$element.addClass(this.namespace),this.options.skin&&this.$element.addClass(this.options.skin),this.classes={disabled:this.options.disabledClass,active:this.options.activeClass},this.disabled=!1,this._trigger("init"),this.init()}return o(t,[{key:"init",value:function(){var t=this;t.visible=t.getVisible(),s.default.each(this.options.components,function(e,i){return null!==i&&i!==!1&&void t.components[e].init(t)}),t.createHtml(),t.bindEvents(),t.goTo(t.currentPage),t.initialized=!0,"number"!=typeof this.options.visibleNum&&(0,s.default)(window).on("resize",n(function(){t.resize()},this.options.resizeTime)),this._trigger("ready")}},{key:"createHtml",value:function(){var t=this,e=void 0;t.contents=t.options.tpl();for(var i=t.contents.match(/\{\{([^\}]+)\}\}/g).length,n=void 0,a=0;a<i;a++)n=t.contents.match(/\{\{([^\}]+)\}\}/),"namespace"!==n[1]?this.options.components[n[1]]&&(e=t.components[n[1]].opts.tpl.call(t),t.contents=t.contents.replace(n[0],e)):t.contents=t.contents.replace(n[0],t.namespace);t.$element.append((0,s.default)(t.contents))}},{key:"bindEvents",value:function(){var t=this;s.default.each(this.options.components,function(e,i){return null!==i&&i!==!1&&void t.components[e].bindEvents(t)})}},{key:"unbindEvents",value:function(){var t=this;s.default.each(this.options.components,function(e,i){return null!==i&&i!==!1&&void t.components[e].unbindEvents(t)})}},{key:"resize",value:function(){var t=this;t._trigger("resize"),t.goTo(t.currentPage),t.visible=t.getVisible(),s.default.each(this.options.components,function(e,i){return null!==i&&i!==!1&&void("undefined"!=typeof t.components[e].resize&&t.components[e].resize(t))})}},{key:"getVisible",value:function(){var t=(0,s.default)("body, html").width(),e=0;return"number"!=typeof this.options.visibleNum?s.default.each(this.options.visibleNum,function(i,n){t>i&&(e=n)}):e=this.options.visibleNum,e}},{key:"calculate",value:function(t,e,i){var n=1,s=1;return t<=i+2&&(n=0),t+i+1>=e&&(s=0),{left:n,right:s}}},{key:"goTo",value:function(t){return t=Math.max(1,Math.min(t,this.totalPages)),(t!==this.currentPage||this.initialized!==!0)&&(this.$element.find("."+this.classes.disabled).removeClass(this.classes.disabled),t===this.totalPages&&(this.$element.find("."+this.namespace+"-next").addClass(this.classes.disabled),this.$element.find("."+this.namespace+"-last").addClass(this.classes.disabled)),1===t&&(this.$element.find("."+this.namespace+"-prev").addClass(this.classes.disabled),this.$element.find("."+this.namespace+"-first").addClass(this.classes.disabled)),this.currentPage=t,void(this.initialized&&this._trigger("change",t)))}},{key:"prev",value:function(){return!!this.hasPreviousPage()&&(this.goTo(this.getPreviousPage()),!0)}},{key:"next",value:function(){return!!this.hasNextPage()&&(this.goTo(this.getNextPage()),!0)}},{key:"goFirst",value:function(){return this.goTo(1)}},{key:"goLast",value:function(){return this.goTo(this.totalPages)}},{key:"update",value:function(t,e){var i={};"string"==typeof t?i[t]=e:i=t;for(var n in i)if(Object.hasOwnProperty.call(i,n))switch(n){case"totalItems":this.totalItems=i[n];break;case"itemsPerPage":this.itemsPerPage=i[n];break;case"currentPage":this.currentPage=i[n]}this.totalPages=this.totalPages()}},{key:"isOutOfBounds",value:function(){return this.currentPage>this.totalPages}},{key:"getItemsPerPage",value:function(){return this.itemsPerPage}},{key:"getTotalItems",value:function(){return this.totalItems}},{key:"getTotalPages",value:function(){return this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.lastPage=this.totalPages,this.totalPages}},{key:"getCurrentPage",value:function(){return this.currentPage}},{key:"hasPreviousPage",value:function(){return this.currentPage>1}},{key:"getPreviousPage",value:function(){return!!this.hasPreviousPage()&&this.currentPage-1}},{key:"hasNextPage",value:function(){return this.currentPage<this.totalPages}},{key:"getNextPage",value:function(){return!!this.hasNextPage()&&this.currentPage+1}},{key:"enable",value:function(){this.disabled&&(this.disabled=!1,this.$element.removeClass(this.classes.disabled),this.bindEvents()),this._trigger("enable")}},{key:"disable",value:function(){this.disabled!==!0&&(this.disabled=!0,this.$element.addClass(this.classes.disabled),this.unbindEvents()),this._trigger("disable")}},{key:"destroy",value:function(){this.$element.removeClass(this.classes.disabled),this.unbindEvents(),this.$element.data(l,null),this._trigger("destroy")}},{key:"_trigger",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var s=[this].concat(i);this.$element.trigger(l+"::"+t,s),t=t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toUpperCase()+t.substring(1)});var a="on"+t;"function"==typeof this.options[a]&&this.options[a].apply(this,i)}},{key:"eventName",value:function(t){if("string"!=typeof t||""===t)return"."+this.options.namespace;t=t.split(" ");for(var e=t.length,i=0;i<e;i++)t[i]=t[i]+"."+this.options.namespace;return t.join(" ")}}],[{key:"registerComponent",value:function(t,e){u[t]=e}},{key:"setDefaults",value:function(t){s.default.extend(r,s.default.isPlainObject(t)&&t)}}]),t}();c.registerComponent("prev",{defaults:{tpl:function(){return'<li class="'+this.namespace+'-prev"><a>Prev</a></li>'}},init:function(t){var e=s.default.extend({},this.defaults,t.options.components.prev);this.opts=e},bindEvents:function(t){this.$prev=t.$element.find("."+t.namespace+"-prev"),this.$prev.on("click.asPaginator",s.default.proxy(t.prev,t))},unbindEvents:function(){this.$prev.off("click.asPaginator")}}),c.registerComponent("next",{defaults:{tpl:function(){return'<li class="'+this.namespace+'-next"><a>Next</a></li>'}},init:function(t){var e=s.default.extend({},this.defaults,t.options.components.next);this.opts=e},bindEvents:function(t){this.$next=t.$element.find("."+t.namespace+"-next"),this.$next.on("click.asPaginator",s.default.proxy(t.next,t))},unbindEvents:function(){this.$next.off("click.asPaginator")}}),c.registerComponent("first",{defaults:{tpl:function(){return'<li class="'+this.namespace+'-first"><a>First</a></li>'}},init:function(t){var e=s.default.extend({},this.defaults,t.options.components.first);this.opts=e},bindEvents:function(t){this.$first=t.$element.find("."+t.namespace+"-first"),this.$first.on("click.asPaginator",s.default.proxy(t.goFirst,t))},unbindEvents:function(){this.$first.off("click.asPaginator")}}),c.registerComponent("last",{defaults:{tpl:function(){return'<li class="'+this.namespace+'-last"><a>Last</a></li>'}},init:function(t){var e=s.default.extend({},this.defaults,t.options.components.last);this.opts=e},bindEvents:function(t){this.$last=t.$element.find("."+t.namespace+"-last"),this.$last.on("click.asPaginator",s.default.proxy(t.goLast,t))},unbindEvents:function(){this.$last.off("click.asPaginator")}}),c.registerComponent("lists",{defaults:{tpl:function(){var t="",e=this.currentPage>=this.visible?this.currentPage%this.visible:this.currentPage;e=0===e?this.visible:e;for(var i=1;i<e;i++)t+='<li class="'+this.namespace+'-items" data-value="'+(this.currentPage-e+i)+'"><a href="#">'+(this.currentPage-e+i)+"</a></li>";t+='<li class="'+this.namespace+"-items "+this.classes.active+'" data-value="'+this.currentPage+'"><a href="#">'+this.currentPage+"</a></li>";for(var n=this.currentPage+1,s=n+this.visible-e-1>this.totalPages?this.totalPages:n+this.visible-e-1;n<=s;n++)t+='<li class="'+this.namespace+'-items" data-value="'+n+'"><a href="#">'+n+"</a></li>";return t}},init:function(t){var e=s.default.extend({},this.defaults,t.options.components.lists);this.opts=e,t.itemsTpl=this.opts.tpl.call(t)},bindEvents:function(t){var e=this;this.$items=t.$element.find("."+t.namespace+"-items"),t.$element.on("click",this.$items,function(e){var i=(0,s.default)(e.target).parent().data("value")||(0,s.default)(e.target).data("value");return void 0!==i&&(""!==i&&void t.goTo(i))}),e.render(t),t.$element.on("asPaginator::change",function(){e.render(t)})},unbindEvents:function(t){t.$element.off("click",this.$items)},resize:function(t){this.render(t)},render:function(t){var e=t.currentPage,i=void 0,n=this,a=this.$items.removeClass(t.classes.active);s.default.each(a,function(n,a){if((0,s.default)(a).data("value")===e)return(0,s.default)(a).addClass(t.classes.active),i=!1,!1}),i===!1&&this.visibleBefore===t.visible||(this.visibleBefore=t.visible,s.default.each(a,function(e,i){0===e?(0,s.default)(i).replaceWith(n.opts.tpl.call(t)):(0,s.default)(i).remove()}),this.$items=t.$element.find("."+t.namespace+"-items"))}}),c.registerComponent("goTo",{defaults:{tpl:function(){return'<div class="'+this.namespace+'-goTo"><input type="text" class="'+this.namespace+'-input" /><button type="submit" class="'+this.namespace+'-submit">Go</button></div>'}},init:function(t){var e=s.default.extend({},this.defaults,t.options.components.goTo);this.opts=e},bindEvents:function(t){var e=this;e.$goTo=t.$element.find("."+t.namespace+"-goTo"),e.$input=e.$goTo.find("."+t.namespace+"-input"),e.$button=e.$goTo.find("."+t.namespace+"-submit"),e.$button.on("click",function(){var i=parseInt(e.$input.val(),10);i=i>0?i:t.currentPage,t.goTo(i)})},unbindEvents:function(){this.$button.off("click")}}),c.registerComponent("altLists",{defaults:{tpl:function(){var t="",e=this.totalPages,i=this.currentPage,n=this.calculate(i,e,this.visible),s=this,a=void 0,o=function(t,e){return"active"===e?'<li class="'+s.namespace+"-items "+s.classes.active+'" data-value="'+t+'"><a href="#">'+t+"</a></li>":"omit"===e?'<li class="'+s.namespace+"-items "+s.namespace+'_ellipsis" data-value="ellipsis"><a href="#">...</a></li>':'<li class="'+s.namespace+'-items" data-value="'+t+'"><a href="#">'+t+"</a></li>"};if(0===n.left){for(a=1;a<=i-1;a++)t+=o(a);t+=o(i,"active")}else{for(a=1;a<=2;a++)t+=o(a);for(t+=o(i,"omit"),a=i-this.visible+1;a<=i-1;a++)t+=o(a);t+=o(i,"active")}if(0===n.right)for(a=i+1;a<=e;a++)t+=o(a);else{for(a=i+1;a<=i+this.visible-1;a++)t+=o(a);for(t+=o(i,"omit"),a=e-1;a<=e;a++)t+=o(a)}return t}},init:function(t){var e=s.default.extend({},this.defaults,t.options.components.altLists);this.opts=e},bindEvents:function(t){var e=this;this.$items=t.$element.find("."+t.namespace+"-items"),t.$element.on("click",this.$items,function(e){var i=(0,s.default)(e.target).parent().data("value")||(0,s.default)(e.target).data("value");return void 0!==i&&("ellipsis"!==i&&(""!==i&&void t.goTo(i)))}),e.render(t),t.$element.on("asPaginator::change",function(){e.render(t)})},unbindEvents:function(t){t.$wrap.off("click",this.$items)},resize:function(t){this.render(t)},render:function(t){var e=this,i=this.$items.removeClass(t.classes.active);s.default.each(i,function(i,n){0===i?(0,s.default)(n).replaceWith(e.opts.tpl.call(t)):(0,s.default)(n).remove()}),this.$items=t.$element.find("."+t.namespace+"-items")}}),c.registerComponent("info",{defaults:{tpl:function(){return'<li class="'+this.namespace+'-info"><a href="javascript:void(0);"><span class="'+this.namespace+'-current"></span> / <span class="'+this.namespace+'-total"></span></a></li>'}},init:function(t){var e=s.default.extend({},this.defaults,t.options.components.info);this.opts=e},bindEvents:function(t){var e=t.$element.find("."+t.namespace+"-info"),i=e.find("."+t.namespace+"-current");e.find("."+t.namespace+"-total").text(t.totalPages),i.text(t.currentPage),t.$element.on("asPaginator::change",function(){i.text(t.currentPage)})}});var f={version:"0.3.2"},h="asPaginator",d=s.default.fn.asPaginator,p=function(t){for(var e=this,i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];if(!s.default.isNumeric(t)&&"string"==typeof t){var r=function(){var i=t;if(/^_/.test(i))return{v:!1};if(!/^(get)/.test(i))return{v:e.each(function(){var t=s.default.data(this,h);t&&"function"==typeof t[i]&&t[i].apply(t,n)})};var a=e.first().data(h);return a&&"function"==typeof a[i]?{v:a[i].apply(a,n)}:void 0}();if("object"===("undefined"==typeof r?"undefined":a(r)))return r.v}return this.each(function(){(0,s.default)(this).data(h)||(0,s.default)(this).data(h,new(Function.prototype.bind.apply(c,[null].concat([this,t],n))))})};s.default.fn.asPaginator=p,s.default.asPaginator=s.default.extend({registerComponent:c.registerComponent,setDefaults:c.setDefaults,noConflict:function(){return s.default.fn.asPaginator=d,p}},f)});